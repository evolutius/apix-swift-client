{"primaryContentSections":[{"kind":"content","content":[{"anchor":"Overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"APIXClient abstracts the complexity behind each API-X request so that you"},{"type":"text","text":" "},{"type":"text","text":"can enjoy a hassle-free and secure application. However, even with these"},{"type":"text","text":" "},{"type":"text","text":"considerations, special care must be taken when handling the data that"},{"type":"text","text":" "},{"type":"text","text":"makes API-X secure. In addition to that, building a great and rock-solid"},{"type":"text","text":" "},{"type":"text","text":"client entails ensuring that you minimize the risk of getting otherwise"},{"type":"text","text":" "},{"type":"text","text":"valid requests rejected by the server."}]},{"anchor":"API-X-Server-Request-Handling-Mechanism","level":2,"type":"heading","text":"API-X Server Request Handling Mechanism"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To fully understand how to build rock-solid clients, it is imperative to"},{"type":"text","text":" "},{"type":"text","text":"understand the basic underlying request handling mechanism. The flow"},{"type":"text","text":" "},{"type":"text","text":"chart below illustrates the steps an API-X server takes from the moment"},{"type":"text","text":" "},{"type":"text","text":"a request arrived to the moment a response is returned, valid or"},{"type":"text","text":" "},{"type":"text","text":"otherwise."}]},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"apixserverflowchart.png"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"emphasis","inlineContent":[{"type":"text","text":"The steps in green are starting and ending points of the request"},{"type":"text","text":" "},{"type":"text","text":"handling mechanism."}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"emphasis","inlineContent":[{"type":"text","text":"The steps in red are processes of the API-X server."}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"emphasis","inlineContent":[{"type":"text","text":"The steps in blue are fully covered by the "},{"type":"codeVoice","code":"APIXClient"},{"type":"text","text":" implementation."}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"emphasis","inlineContent":[{"type":"text","text":"The steps in orange have shared responsibility for the user of"},{"type":"text","text":" "},{"type":"text","text":"the "},{"type":"codeVoice","code":"APIXClient"},{"type":"text","text":" and the "},{"type":"codeVoice","code":"APIXClient"},{"type":"text","text":" implementation. In these case, most"},{"type":"text","text":" "},{"type":"text","text":"of the responsibility will be fulfilled by "},{"type":"codeVoice","code":"APIXClient"},{"type":"text","text":"."}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"emphasis","inlineContent":[{"type":"text","text":"The steps in indigo depend on the specific API-X server implementation."},{"type":"text","text":" "},{"type":"text","text":"This could mean that the user may have some responsibility if the server"},{"type":"text","text":" "},{"type":"text","text":"requires it."}]}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"When a new request reaches an API-X server, the first step is takes is"},{"type":"text","text":" "},{"type":"text","text":"verifying that the required parameters are present. These parameters are"},{"type":"text","text":" "},{"type":"text","text":"resource agnistic, i.e., they must be included in all requests, without"},{"type":"text","text":" "},{"type":"text","text":"exception. This is handled by "},{"type":"codeVoice","code":"APIXClient"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If the test passes, then the server will verify that the request comes from"},{"type":"text","text":" "},{"type":"text","text":"an authorized application. This has a shared responsibility because the user"},{"type":"text","text":" "},{"type":"text","text":"must ensure that the API and Application key are correct and valid for the"},{"type":"text","text":" "},{"type":"text","text":"API-X server in question. "},{"type":"codeVoice","code":"APIXClient"},{"type":"text","text":" will take care of the rest. This"},{"type":"text","text":" "},{"type":"text","text":"information is passed when constructing a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/APIXClient\/documentation\/APIXClient\/APIXClientRequestBuilder"},{"type":"text","text":" "},{"type":"text","text":"object. See "},{"type":"reference","isActive":true,"identifier":"doc:\/\/APIXClient\/documentation\/APIXClient\/APIXClientRequestBuilder\/init(apiKey:appKey:)"},{"type":"text","text":" for more"},{"type":"text","text":" "},{"type":"text","text":"details."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If the previous test passes, then the server will verify that the request"},{"type":"text","text":" "},{"type":"text","text":"comes from a valid session of the authorized application. What is a valid"},{"type":"text","text":" "},{"type":"text","text":"session?"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The request must contain the necessary information for validation. This"},{"type":"text","text":" "},{"type":"text","text":"is implemented in "},{"type":"codeVoice","code":"APIXClient"},{"type":"text","text":"."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The request must not be too old or created in a future time. It is the"},{"type":"text","text":" "},{"type":"text","text":"responsibility of the user to ensure that requests are created when they"},{"type":"text","text":" "},{"type":"text","text":"are needed. The API-X server can configure the timeout of requests, though"},{"type":"text","text":" "},{"type":"text","text":"the default value is usually five seconds. "},{"type":"codeVoice","code":"APIXClient"},{"type":"text","text":" will take care of"},{"type":"text","text":" "},{"type":"text","text":"the rest."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The request must be unique, i.e., an identical request must not have been"},{"type":"text","text":" "},{"type":"text","text":"received before. Requests are considered identical if they have the same"},{"type":"text","text":" "},{"type":"text","text":"session ID. API-X servers can opt-out of this security feature, however, that"},{"type":"text","text":" "},{"type":"text","text":"is discouraged, and as a client, it is better to err in the side of caution"},{"type":"text","text":" "},{"type":"text","text":"and avoid sending identical requests. It is the responsibility of the user to"},{"type":"text","text":" "},{"type":"text","text":"discard requests when they are sent. The "},{"type":"reference","isActive":true,"identifier":"doc:\/\/APIXClient\/documentation\/APIXClient\/APIXClientRequestBuilder"},{"type":"text","text":" object"},{"type":"text","text":" "},{"type":"text","text":"will generate new request application session IDs for users."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The request must have a valid application session ID. Users must make sure"},{"type":"text","text":" "},{"type":"text","text":"that the API and Application key are correct and issued by the API-X server"},{"type":"text","text":" "},{"type":"text","text":"in question. The "},{"type":"reference","isActive":true,"identifier":"doc:\/\/APIXClient\/documentation\/APIXClient\/APIXClientRequestBuilder"},{"type":"text","text":" will do the heavy lifting and"},{"type":"text","text":" "},{"type":"text","text":"generate a new application session ID for every request created."}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If the previous test passes, then the API-X server will verify that the"},{"type":"text","text":" "},{"type":"text","text":"application and user (if requires user-level authentication), have enough"},{"type":"text","text":" "},{"type":"text","text":"clearance to access the requested resource. A resource is defined as any"},{"type":"text","text":" "},{"type":"text","text":"entity that is needed in order to fulfill a request. This entity could be"},{"type":"text","text":" "},{"type":"text","text":"an API method, a specific database, or a specific piece of data within a"},{"type":"text","text":" "},{"type":"text","text":"database, among others."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The clearance level required to access a resource is server-dependent. The"},{"type":"text","text":" "},{"type":"text","text":"server can define if clearance is required at all and can define if specific"},{"type":"text","text":" "},{"type":"text","text":"resources require a higher clearance. How clearance is determined is a"},{"type":"text","text":" "},{"type":"text","text":"server-side implementation decision. From a client’s perspective, this may"},{"type":"text","text":" "},{"type":"text","text":"mean logging into an account, providing a one time password, or performing"},{"type":"text","text":" "},{"type":"text","text":"some other sort of authentication with the API-X server."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"A good example of when an API-X server may require clearance is when the"},{"type":"text","text":" "},{"type":"text","text":"requested resource involves sensitive or confidential data, or manipulates"},{"type":"text","text":" "},{"type":"text","text":"data that belong to a specific entity or individual. The API-X server is"},{"type":"text","text":" "},{"type":"text","text":"responsible for defining whether clearance is required and how it can be"},{"type":"text","text":" "},{"type":"text","text":"obtained. Users of "},{"type":"codeVoice","code":"APIXClient"},{"type":"text","text":" that want access to those resources would"},{"type":"text","text":" "},{"type":"text","text":"then follow the requirements laid out by the server."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If the previous test passes, then the API-X server will verify that all the"},{"type":"text","text":" "},{"type":"text","text":"required parameters for the API method are present. It is the responsibility"},{"type":"text","text":" "},{"type":"text","text":"of the API-X server to define what parameters are required for the available"},{"type":"text","text":" "},{"type":"text","text":"API methods, and the responsiblity of the "},{"type":"codeVoice","code":"APIXClient"},{"type":"text","text":" user to ensure that"},{"type":"text","text":" "},{"type":"text","text":"those are included in the specific requests that require them."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Finally, if all the previous tests pass, then the specific API method"},{"type":"text","text":" "},{"type":"text","text":"handler is invoked. The validity of the request at this level is"},{"type":"text","text":" "},{"type":"text","text":"server-dependent. For example, the server-side implementation decides how to"},{"type":"text","text":" "},{"type":"text","text":"respond when a request asks for a piece of data that does not exist in its"},{"type":"text","text":" "},{"type":"text","text":"database. It is the responsibility of the API-X server to clearly define the"},{"type":"text","text":" "},{"type":"text","text":"requirement for each API method and for a client to fulfill those"},{"type":"text","text":" "},{"type":"text","text":"requirements."}]},{"anchor":"Keep-Your-API-and-Application-Keys-Secured","level":2,"type":"heading","text":"Keep Your API and Application Keys Secured"},{"type":"paragraph","inlineContent":[{"type":"text","text":"One of the key features of API-X-based servers is the ability to easily"},{"type":"text","text":" "},{"type":"text","text":"identify applications not only by using an API Key, but also by using a"},{"type":"text","text":" "},{"type":"text","text":"unique Application Key that ensures no other application can impersonate a"},{"type":"text","text":" "},{"type":"text","text":"request as if it’s coming from another application. However, in order to"},{"type":"text","text":" "},{"type":"text","text":"ensure that this security feature works as intended, you must make sure"},{"type":"text","text":" "},{"type":"text","text":"that your API and Application keys are kept secure. In general, there are"},{"type":"text","text":" "},{"type":"text","text":"several that you should take to ensure that this is the case:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Never store your API or Application Key in clear text where others can"},{"type":"text","text":" "},{"type":"text","text":"see it, such as a text files or publicly distributed header files."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Never send your Application key over the internet. This key is meant"},{"type":"text","text":" "},{"type":"text","text":"to be used by your application internally. It has no business being sent"},{"type":"text","text":" "},{"type":"text","text":"over the internet. This opens up the possibility for explotation of a"},{"type":"text","text":" "},{"type":"text","text":"vulnerability."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"If your application is open source, do "},{"type":"emphasis","inlineContent":[{"type":"text","text":"not"}]},{"type":"text","text":" leave your API or Application"},{"type":"text","text":" "},{"type":"text","text":"key in the remote that contains your source code, but rather add them when"},{"type":"text","text":" "},{"type":"text","text":"you’re ready to distribute a "},{"type":"emphasis","inlineContent":[{"type":"text","text":"compiled"}]},{"type":"text","text":" version of your application."}]}]}]},{"anchor":"Create-Requests-When-Needed","level":2,"type":"heading","text":"Create Requests When Needed"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Now that the request validation mechanism of API-X servers has been"},{"type":"text","text":" "},{"type":"text","text":"explained, there are a few important considerations when implementing"},{"type":"text","text":" "},{"type":"text","text":"an API-X client:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Requests should always be created when they are needed and not a moment"},{"type":"text","text":" "},{"type":"text","text":"before. This ensures the minimal amount of time passes before the data in"},{"type":"text","text":" "},{"type":"text","text":"the request reaches the server, and drastically minimizes the risk of a"},{"type":"text","text":" "},{"type":"text","text":"request timeout."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Request objects ("},{"type":"codeVoice","code":"URLRequest"},{"type":"text","text":") should never be used more than once."},{"type":"text","text":" "},{"type":"text","text":"Even if two identical requests are required, the request objects must be"},{"type":"text","text":" "},{"type":"text","text":"created for each request that is to be made. API-X server have a security"},{"type":"text","text":" "},{"type":"text","text":"mechanism that rejects requests that have already been made to prevent"},{"type":"text","text":" "},{"type":"text","text":"other applications from re-sending the same request that the original"},{"type":"text","text":" "},{"type":"text","text":"application has already sent. For this reason, any duplicate request is"},{"type":"text","text":" "},{"type":"text","text":"considered invalid."}]}]}]}]}],"schemaVersion":{"major":0,"minor":2,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/apixclient\/rocksolidapixclient"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/APIXClient\/documentation\/APIXClient\/RockSolidAPIXClient","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Build rock-solid and secure API-X Client based applications or services."}],"kind":"article","metadata":{"roleHeading":"Article","title":"Building Rock-Solid and Secure API-X Clients","role":"article","modules":[{"name":"APIXClient"}]},"hierarchy":{"paths":[["doc:\/\/APIXClient\/documentation\/APIXClient"]]},"seeAlsoSections":[{"title":"Getting Started","identifiers":["doc:\/\/APIXClient\/documentation\/APIXClient\/BuildingAClient","doc:\/\/APIXClient\/documentation\/APIXClient\/APIXClient","doc:\/\/APIXClient\/documentation\/APIXClient\/APIXClientRequestBuilder"],"generated":true}],"references":{"doc://APIXClient/documentation/APIXClient":{"role":"collection","title":"APIXClient","abstract":[{"type":"text","text":"A framework for building API-X based clients."}],"identifier":"doc:\/\/APIXClient\/documentation\/APIXClient","kind":"symbol","type":"topic","url":"\/documentation\/apixclient"},"doc://APIXClient/documentation/APIXClient/BuildingAClient":{"role":"article","title":"Building An API-X Client","abstract":[{"type":"text","text":"Build an API-X client for API-X-based servers using the power and"},{"type":"text","text":" "},{"type":"text","text":"simplicity of APIXClient."}],"identifier":"doc:\/\/APIXClient\/documentation\/APIXClient\/BuildingAClient","kind":"article","type":"topic","url":"\/documentation\/apixclient\/buildingaclient"},"doc://APIXClient/documentation/APIXClient/APIXClient":{"role":"symbol","title":"APIXClient","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"APIXClient"}],"abstract":[{"type":"text","text":"A client for an API-X server."}],"identifier":"doc:\/\/APIXClient\/documentation\/APIXClient\/APIXClient","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"APIXClient"}],"url":"\/documentation\/apixclient\/apixclient"},"doc://APIXClient/documentation/APIXClient/APIXClientRequestBuilder":{"role":"symbol","title":"APIXClientRequestBuilder","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"APIXClientRequestBuilder"}],"abstract":[{"type":"text","text":"A class that handles creating requests for API-X servers."}],"identifier":"doc:\/\/APIXClient\/documentation\/APIXClient\/APIXClientRequestBuilder","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"APIXClientRequestBuilder"}],"url":"\/documentation\/apixclient\/apixclientrequestbuilder"},"apixserverflowchart.png":{"alt":"Flow Chart","type":"image","identifier":"apixserverflowchart.png","variants":[{"url":"\/images\/apixserverflowchart.png","traits":["1x","light"]},{"url":"\/images\/apixserverflowchart@2x.png","traits":["2x","light"]}]},"doc://APIXClient/documentation/APIXClient/APIXClientRequestBuilder/init(apiKey:appKey:)":{"role":"symbol","title":"init(apiKey:appKey:)","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"externalParam","text":"apiKey"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":", "},{"kind":"externalParam","text":"appKey"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Creates an API-X client request object with the specified API Key and Application Key."}],"identifier":"doc:\/\/APIXClient\/documentation\/APIXClient\/APIXClientRequestBuilder\/init(apiKey:appKey:)","kind":"symbol","type":"topic","url":"\/documentation\/apixclient\/apixclientrequestbuilder\/init(apikey:appkey:)"}}}